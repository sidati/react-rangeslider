{"version":3,"file":"index.mjs","sources":["../src/index.tsx"],"sourcesContent":["import React from 'react';\n\nconst RangeSlider = React.forwardRef(\n  (\n    props: {\n      id: string;\n      disabled?: boolean;\n      initialValue?: number;\n      max?: number;\n      min?: number;\n      steps?: number;\n      activeColor?: string;\n      bgColor?: string;\n      knobSize?: number;\n      onChange?: Function;\n    },\n    rangeSliderRef: React.ForwardedRef<HTMLInputElement>\n  ) => {\n    const id = `range-slider-${props.id}`;\n\n    const [progress, setProgress] = React.useState(props.initialValue);\n\n    const changeHandler: React.ChangeEventHandler<HTMLInputElement> = (ev) => {\n      ev.preventDefault();\n      const { value } = ev.target;\n      setProgress(Number(value));\n    };\n\n    React.useEffect(() => {\n      if (typeof progress === undefined) {\n        setProgress(props.initialValue || 0);\n      }\n    }, [props.initialValue]);\n\n    React.useEffect(() => {\n      if (props.onChange) {\n        props.onChange(progress);\n      }\n    }, [progress]);\n\n    // @ts-ignore\n\n    const _props: {\n      disabled: boolean;\n      max: number;\n      min: number;\n      steps: number;\n      activeColor: string;\n      bgColor: string;\n      knobSize: number;\n    } = Object.assign(\n      {\n        disabled: false,\n        max: 100,\n        min: 0,\n        steps: 10,\n        activeColor: '#2ba9e1',\n        bgColor: '#eeeeee',\n        knobSize: 10,\n      },\n      props\n    );\n\n    // @ts-ignore\n    const circlePos = Math.round((progress / _props.max) * 100);\n\n    return (\n      <>\n        <style\n          dangerouslySetInnerHTML={{\n            __html: [\n              `#${id}::-ms-fill-lower {background-color: ${_props.activeColor};}`,\n              `#${id}::-ms-fill-upper { background-color: ${_props.bgColor}; }`,\n              `#${id}::-moz-range-track { background-color: ${_props.bgColor}; }`,\n              `#${id}::-moz-range-progress { background-color: ${_props.activeColor}; }`,\n              `#${id}::-moz-range-thumb { top: 0;width: ${_props.knobSize}px;height: ${_props.knobSize}px;cursor: ew-resize;position: relative;border-radius: 100%;background: ${_props.activeColor};border:none;}`,\n              '@media screen and (-webkit-min-device-pixel-ratio: 0) {',\n              `#${id} {`,\n              `height: 4px;border-radius: 2px;-webkit-appearance: none;background-color: ${_props.bgColor};}`,\n              `#${id}::-webkit-slider-thumb {`,\n              `top: 0;width: ${_props.knobSize}px;height: ${_props.knobSize}px;cursor: ew-resize;position: relative;border-radius: 100%;background: ${_props.activeColor};\n              -webkit-appearance: none;}}`,\n            ].join(''),\n          }}\n        />\n\n        <input\n          id={id}\n          type=\"range\"\n          min={_props.min}\n          max={_props.max}\n          ref={rangeSliderRef}\n          value={progress}\n          onChange={changeHandler}\n          disabled={_props.disabled}\n          step={_props.max / _props.steps}\n          style={{\n            backgroundImage: `linear-gradient(-90deg, ${_props.activeColor} 0%, ${_props.activeColor} ${circlePos}%, ${_props.bgColor} ${circlePos}%)`,\n          }}\n        />\n      </>\n    );\n  }\n);\n\nexport default RangeSlider;\n"],"names":[],"mappings":";;MAEM,cAAc,MAAM,WACxB,CACE,OAYA,mBACG;AACH,QAAM,KAAK,gBAAgB,MAAM;AAEjC,QAAM,CAAC,UAAU,eAAe,MAAM,SAAS,MAAM;AAErD,QAAM,gBAA4D,CAAC,OAAO;AACxE,OAAG;AACH,UAAM,CAAE,SAAU,GAAG;AACrB,gBAAY,OAAO;AAAA;AAGrB,QAAM,UAAU,MAAM;AACpB,QAAI,OAAO,aAAa,QAAW;AACjC,kBAAY,MAAM,gBAAgB;AAAA;AAAA,KAEnC,CAAC,MAAM;AAEV,QAAM,UAAU,MAAM;AACpB,QAAI,MAAM,UAAU;AAClB,YAAM,SAAS;AAAA;AAAA,KAEhB,CAAC;AAIJ,QAAM,SAQF,OAAO,OACT;AAAA,IACE,UAAU;AAAA,IACV,KAAK;AAAA,IACL,KAAK;AAAA,IACL,OAAO;AAAA,IACP,aAAa;AAAA,IACb,SAAS;AAAA,IACT,UAAU;AAAA,KAEZ;AAIF,QAAM,YAAY,KAAK,MAAO,WAAW,OAAO,MAAO;AAEvD,uGAEK,SAAD;AAAA,IACE,yBAAyB;AAAA,MACvB,QAAQ;AAAA,QACN,IAAI,yCAAyC,OAAO;AAAA,QACpD,IAAI,0CAA0C,OAAO;AAAA,QACrD,IAAI,4CAA4C,OAAO;AAAA,QACvD,IAAI,+CAA+C,OAAO;AAAA,QAC1D,IAAI,wCAAwC,OAAO,sBAAsB,OAAO,mFAAmF,OAAO;AAAA,QAC1K;AAAA,QACA,IAAI;AAAA,QACJ,6EAA6E,OAAO;AAAA,QACpF,IAAI;AAAA,QACJ,iBAAiB,OAAO,sBAAsB,OAAO,mFAAmF,OAAO;AAAA;AAAA,QAE/I,KAAK;AAAA;AAAA,0CAIV,SAAD;AAAA,IACE;AAAA,IACA,MAAK;AAAA,IACL,KAAK,OAAO;AAAA,IACZ,KAAK,OAAO;AAAA,IACZ,KAAK;AAAA,IACL,OAAO;AAAA,IACP,UAAU;AAAA,IACV,UAAU,OAAO;AAAA,IACjB,MAAM,OAAO,MAAM,OAAO;AAAA,IAC1B,OAAO;AAAA,MACL,iBAAiB,2BAA2B,OAAO,mBAAmB,OAAO,eAAe,eAAe,OAAO,WAAW;AAAA;AAAA;AAAA;;;;"}